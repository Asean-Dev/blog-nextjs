(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[857],{8399:function(e,t,r){Promise.resolve().then(r.bind(r,9905))},6631:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7437),o=r(9343);function a(e){let{children:t,onSubmit:r,methods:a}=e;return(0,n.jsx)(o.RV,{...a,children:(0,n.jsx)("form",{onSubmit:r,children:t})})}},9905:function(e,t,r){"use strict";r.d(t,{default:function(){return h}});var n=r(7437),o=r(6631),a=r(9343),s=r(7799);function i(e){let{name:t,helperText:r,type:o,...i}=e,{control:u}=(0,a.Gc)();return(0,n.jsx)(a.Qr,{name:t,control:u,render:e=>{let{field:t,fieldState:{error:r}}=e;return(0,n.jsx)(s.Z,{...t,fullWidth:!0,type:o,value:"number"===o&&0===t.value?"":t.value,onChange:e=>{"number"===o?t.onChange(Number(e.target.value)):t.onChange(e.target.value)},variant:"standard",InputProps:{disableUnderline:!0,sx:{backgroundColor:"#fff",borderRadius:"4px",alignItems:"center","& input":{paddingLeft:.5}}},InputLabelProps:{sx:{color:"#A0AFBA",paddingX:.5,zIndex:10,"&.Mui-focused":{color:"#fff"}}},error:!!r,...i})}})}var u=r(8358),l=r(6463),c=r(7776),d=r(8877),f=r(2624);let p=async e=>{let{userName:t}=e;try{var r,n;let e=JSON.stringify({userName:t}),o=await d.ZP.post("".concat(d.Hv.user,"/sign-in"),e,{headers:{"Content-Type":"application/json"}});return(0,f.o4)(null==o?void 0:null===(n=o.data)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.access_token),o.data}catch(e){throw Error("Failed to sign in")}};var h=e=>{let t=(0,l.useRouter)(),r=(0,a.cI)({defaultValues:{userName:""}}),s=(0,l.useSearchParams)().get("returnTo")||"/home",d=r.handleSubmit(async e=>{console.log("data",e);let r=await p({userName:e.userName});r&&(c.A.success(r.message),t.push(s))});return(0,n.jsx)(o.Z,{methods:r,onSubmit:d,children:(0,n.jsxs)("div",{className:"w-screen pl-4 pr-4 sm:w-[384px] flex flex-col gap-4",children:[(0,n.jsx)("p",{className:" text-[28px] text-white ",children:"Sign In"}),(0,n.jsxs)("div",{className:" flex flex-col gap-2",children:[(0,n.jsx)(i,{name:"userName",label:"Username"}),(0,n.jsx)(u.Z,{variant:"contained",fullWidth:!0,sx:{bgcolor:"#49A569",textTransform:"none"},type:"submit",onClick:d,children:"Sign In"})]})]})})}},8877:function(e,t,r){"use strict";r.d(t,{ZP:function(){return s},Hv:function(){return u},_i:function(){return i}});var n=r(8472),o=r(2624);let a=n.default.create({baseURL:"http://localhost:3441/"});a.interceptors.response.use(e=>e,e=>Promise.reject(e.response&&e.response.data||"Something went wrong!"));var s=a;let i=async e=>{try{let[t,r={}]=Array.isArray(e)?e:[e,{}],n=(0,o.LP)(),s={...r.headers,...n&&n.Authorization};return(await a.get(t,{...r,headers:s})).data}catch(e){if(n.default.isAxiosError(e)){var t,r,s;console.error("âŒ Axios Error:"),console.error("URL:",null===(t=e.config)||void 0===t?void 0:t.url),console.error("Status:",null===(r=e.response)||void 0===r?void 0:r.status),console.error("Data:",null===(s=e.response)||void 0===s?void 0:s.data)}throw e}},u={user:"api/user",blog:"api/blog"}},2624:function(e,t,r){"use strict";r.d(t,{A2:function(){return a},LP:function(){return s},o4:function(){return o}});var n=r(2649);let o=e=>{n.Z.set("_jwt_token",e,{expires:1/24,path:"/"})},a=()=>{n.Z.set("_jwt_token","")},s=()=>{let e=n.Z.get("_jwt_token");return{Authorization:{Authorization:"Bearer ".concat(e)},token:e}}}},function(e){e.O(0,[776,254,799,343,971,23,744],function(){return e(e.s=8399)}),_N_E=e.O()}]);